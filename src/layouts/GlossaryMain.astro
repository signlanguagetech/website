---
import type { CollectionEntry } from 'astro:content';

import GlossaryTitleList from '../components/GlossaryTitleList.astro';
import YtShort from '../components/YtShort.astro';

interface Props {
  glossaries: CollectionEntry<'glossary'>[];
  link?: string;
  currentGlossaryTitle?: string;
  currentSlug?: string;
}

const { glossaries, link, currentSlug, currentGlossaryTitle } = Astro.props;
---

<div class='glossary-main'>
  <div class='aside-left'>
    <GlossaryTitleList
      glossaries={glossaries}
      currentGlossaryTitle={currentGlossaryTitle}
      currentSlug={currentSlug}
    />
  </div>
  <slot />
  <aside class='aside-right'>
    {
      link && (
        <>
          <h2 class='sign'>How to Sign</h2>
          <YtShort link={link} />
        </>
      )
    }
  </aside>
</div>

<style>
  .glossary-main {
    display: flex;
    gap: 40px;
  }

  .aside-left {
    min-width: 160px;
  }

  .sign {
    font-size: 1.563em;
  }

  @media (max-width: 720px) {
    .glossary-main {
      flex-direction: column;
    }
  }
</style>
